<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mis publicaciones</title>
    <link rel="stylesheet" href="/css/cardPrueba.css" />
    <!--Google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Licorice&family=Pushster&family=Quicksand:wght@300&family=Spline+Sans:wght@300&display=swap" />
    <!--Font Awesome-->
    <script src="https://kit.fontawesome.com/83a37f8406.js" crossorigin="anonymous"></script>
    <!--Thymeleaf-->
    <link rel="stylesheet" type="text/css" media="all" href="/css/gtvg.css" data-th-href="@{..}" />

</head>

<body>
    <main>
        <nav class="nav-main" id="top">
            <abbr title="Volver al home">
                <a th:href="@{'/home'}">
                    <h1 id="home">Mis Publicaciones</h1>
                </a>
            </abbr>
            <ul class="nav-menu">
                <li>
                    <a href="#aboutus">Sobre Nosotros <i class="fas fa-users"></i></a>
                </li>
                <li>
                    <a href="#contact">Contacto <i class="far fa-address-card"></i></a>
                </li>
                <div class="work-menu">
                    <li>
                        <a href="#form">Quiero Trabajar <i class="fas fa-briefcase"></i></a>
                        <ul class="work-menu">
                            <li><a th:href="@{/gardener/create}">Jardinero</a></li>
                            <li><a th:href="@{/cleaning/create}">Servicio Doméstico</a></li>
                            <li><a th:href="@{/caregiver/create}">Cuidado de Personas</a></li>
                            <li><a th:href="@{/petwalker/create}">Paseador de Perros</a></li>
                            <li><a th:href="@{/other/create}">Otro</a></li>
                        </ul>
                    </li>
                </div>
                <div class="work-menu">
                    <div th:if="${#authentication.getName()} != anonymousUser" class="work-menu" id="userRegistred">
                        <li>
                            <div class="wellcome">
                                <a href="#"
                                    th:text="'¡Bienvenido '+' '+${T(net.logstash.logback.encoder.org.apache.commons.lang3.StringUtils).capitalize(@userServiceImpl.findByEmail(#authentication.getName()).firstName)}+'!'"><i
                                        class="far fa-smile-wink"></i></a>
                            </div>
                            <ul class="work-menu">
                                <li><a th:href="@{/jobs/myjobs}">Mis Postulaciones<i class="fas fa-sign-in-alt"></i></a>
                                </li>
                                <li><a th:href="@{/jobs/myjobs}">Modificar<i class="fas fa-sign-in-alt"></i></a></li>
                                <li>
                                    <form th:action="@{/logout}" method="POST">
                                        <button>Cerrar sesión <i class="fas fa-times"></i></button>
                                    </form>
                                </li>
                            </ul>
                        </li>
                    </div>
                </div>
            </ul>
        </nav>

        <div class="container">
            <img src="/img/sillonliving.jpg" alt="">
        </div>
        <div class="area-tarjetas">
            <!--CUIDADOR DE PERSONAS-->
            <th:block th:if="${caregiver != null}">
                <div class="postCard">
                    <div class="blog-card">
                        <div class="photo">
                            <img th:src="${caregiver.user.photo != null && caregiver.user.photo !=''} ? ${caregiver.user.photo} : 'https://t4.ftcdn.net/jpg/02/29/75/83/240_F_229758328_7x8jwCwjtBMmC6rgFzLFhZoEpLobB6L8.jpg'"
                                alt="User photo">
                        </div>
                        <div class="description">
                            <h1>Cuidado de personas</h1>
                            <div class="mail-contact">
                                <p th:text="${#authentication.getName()}"> </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="bloque-izq">
                            <p class="thyme" th:text="'Precio: $ '+${caregiver.salary}"></p>
                            <p class="thyme" th:text="'Zona: '+${caregiver.workingZone}"></p>
                            <p class="thyme" th:text="'Cantidad de personas: '+${caregiver.quantity}"></p>
                        </div>
                        <div class="bloque-cen">
                            <p class="thyme"
                                th:text="'Desde: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(caregiver.hoursFrom), 'HH:mm')}+' hs'">
                            </p>
                            <p class="thyme"
                                th:text="'Hasta: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(caregiver.hoursTo), 'HH:mm')}+' hs'">
                            </p>
                            <p class="line-days">Días: </p>
                            <th:block th:each="day : ${caregiver.days}">
                                <label th:text="${day}">|</label>
                            </th:block>
                        </div>
                        <div class="bloque-der">
                            <p class="thyme" th:text="'Edad de las personas desde: '+${caregiver.ageFrom}+' años'"></p>
                            <p class="thyme" th:text="'Servicio de cocina: '+(${caregiver.cooking}?'Si':'No')"></p>
                            <p class="thyme"
                                th:text="'Higiene de las personas: '+(${caregiver.cleaningPeople}?'Si':'No')"></p>
                            <p class="thyme" th:text="'Servicio de traslado: '+(${caregiver.tranfering}?'Si':'No')"></p>
                        </div>
                    </div>
                    <div class="botones">
                        <div class="btn-edit">
                            <button><a th:href="@{/caregiver/create}+'?id='+${caregiver.id}">Modificar</a></button>
                        </div>
                        <br>
                        <div class="btn-delete">
                            <form th:action="'/jobs/delete/' + ${caregiver.id}" method="post">
                                <button type="submit">Eliminar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </th:block>
            <!--SERVICIO DOMESTICO-->
            <th:block th:if="${cleaning != null}">
                <div class="postCard">
                    <div class="blog-card">
                        <div class="photo">
                            <img th:src="${cleaning.user.photo != null && cleaning.user.photo !=''} ? ${cleaning.user.photo} : 'https://t4.ftcdn.net/jpg/02/29/75/83/240_F_229758328_7x8jwCwjtBMmC6rgFzLFhZoEpLobB6L8.jpg'"
                                alt="User photo">
                        </div>
                        <div class="description">
                            <h1>Servicio Domestico</h1>
                            <div class="mail-contact">
                                <p th:text="${#authentication.getName()}"> </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="bloque-izq">
                            <p class="thyme" th:text="'Precio: $ '+${cleaning.salary}"></p>
                            <p class="thyme" th:text="'Zona: '+${cleaning.workingZone}"></p>
                            <p class="thyme" th:text="'Ambientes: '+${cleaning.rooms}"></p>
                            <p class="thyme" th:text="'Sectores: '+${cleaning.exteriors}"></p>
                        </div>
                        <div class="bloque-cen">
                            <p class="thyme"
                                th:text="'Hora desde: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(cleaning.hoursFrom), 'HH:mm')}">
                            </p>
                            <p class="thyme"
                                th:text="'Hora hasta: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(cleaning.hoursTo), 'HH:mm')}">
                            </p>
                            <p class="thyme">
                            <p class="line-days">Días: </p>
                            <th:block th:each="day : ${cleaning.days}">
                                <label th:text="${day}"></label>
                            </th:block>
                            </p>
                        </div>
                        <div class="bloque-der">
                            <p class="thyme" th:text="'Servicio de cocina: '+(${cleaning.cooking}?'Si':'No')"></p>
                            <p class="thyme" th:text="'Servicio de lavanderia: '+(${cleaning.laundry}?'Si':'No')"></p>
                            <p class="thyme" th:text="'Servicio de planchado: '+(${cleaning.ironing}?'Si':'No')"></p>
                        </div>
                    </div>
                    <div class="botones">
                        <div class="btn-edit">
                            <button><a th:href="@{/cleaning/create}+'?id='+${cleaning.id}">Modificar</a></button>
                        </div>
                        <br>
                        <div class="btn-delete">
                            <form th:action="'/jobs/delete/' + ${cleaning.id}" method="post">
                                <button type="submit">Eliminar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </th:block>
            <!--JARDINERO-->
            <th:block th:if="${gardener != null}">
                <div class="postCard">
                    <div class="blog-card">
                        <div class="photo">
                            <img th:src="${gardener.user.photo != null && gardener.user.photo !=''} ? ${gardener.user.photo} : 'https://t4.ftcdn.net/jpg/02/29/75/83/240_F_229758328_7x8jwCwjtBMmC6rgFzLFhZoEpLobB6L8.jpg'"
                                alt="User photo">
                        </div>
                        <div class="description">
                            <h1>Jardinero</h1>
                            <div class="mail-contact">
                                <p th:text="${#authentication.getName()}"> </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="bloque-izq">
                            <p class="thyme" th:text="'Precio: $ '+ ${gardener.salary}"></p>
                            <p class="thyme" th:text="'Zona: '+ ${gardener.workingZone}"></p>
                            <p class="thyme"
                                th:text="'Desde: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(gardener.hoursFrom), 'HH:mm')}+' hs'">
                            </p>
                            <p class="thyme"
                                th:text="'Hasta: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(gardener.hoursTo), 'HH:mm')}+' hs'">
                            </p>
                        </div>
                        <div class="bloque-cen">
                            <p class="line-days">Días: </p>
                            <th:block th:each="day : ${caregiver.days}">
                                <label th:text="${day}">|</label>
                            </th:block>
                            <p class="thyme" th:text="'Superficie: ' + ${gardener.surface}">
                            </p>
                            <p class="thyme" th:text="'Herramientas : ' + (${gardener.tools}?'Si':'No')">
                            </p>
                        </div>
                        <div class="bloque-der">
                            <p class="thyme" th:text="'Limpieza de piscinas: ' +(${gardener.poolCleaning}?'Si':'No')">
                            </p>
                            <p class="thyme" th:text="'Cercos: ' +(${gardener.gardenFence}?'Si':'No')"> </p>
                            <p class="thyme" th:text="'Desinfección: ' +(${gardener.plantDisinfection}?'Si':'No')"></p>
                        </div>
                    </div>
                    <div class="botones">
                        <div class="btn-edit">
                            <button><a th:href="@{/gardener/create}+'?id='+${gardener.id}">Modificar</a></button>
                        </div>
                        <br>
                        <div class="btn-delete">
                            <form th:action="'/jobs/delete/' + ${gardener.id}" method="post">
                                <button type="submit">Eliminar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </th:block>
            <!--OTROS TRABAJOS-->
            <th:block th:each="other : ${others}">
                <div class="postCard">
                    <div class="blog-card">
                        <div class="photo">
                            <img th:src="${other.user.photo != null && other.user.photo !=''} ? ${other.user.photo} : 'https://t4.ftcdn.net/jpg/02/29/75/83/240_F_229758328_7x8jwCwjtBMmC6rgFzLFhZoEpLobB6L8.jpg'"
                                alt="User photo">
                        </div>
                        <div class="description">
                            <h1>Otros empleos</h1>
                            <div class="mail-contact">
                                <p th:text="${#authentication.getName()}"> </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="bloque-izq">
                            <p class="thyme" th:text="'Precio: $ '+${other.salary}"></p>
                            <p class="thyme" th:text="'Zona: '+${other.workingZone}"></p>
                        </div>
                        <div class="bloque-cen">
                            <p class="thyme"
                                th:text="'Desde: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(other.hoursFrom), 'HH:mm')}+' hs'">
                            </p>
                            <p class="thyme"
                                th:text="'Hasta: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(other.hoursTo), 'HH:mm')}+' hs'">
                            </p>
                        </div>
                        <div class="bloque-der">
                            <p class="line-days"> Días: </p>
                            <th:block th:each="day : ${caregiver.days}">
                                <label th:text="${day}">|</label>
                            </th:block>
                        </div>
                    </div>
                    <div class="botones">
                        <div class="btn-edit">
                            <button><a th:href="@{/other/create}+'?id='+${other.id}">Modificar</a></button>
                        </div>
                        <br>
                        <div class="btn-delete">
                            <form th:action="'/jobs/delete/' + ${other.id}" method="post">
                                <button type="submit">Eliminar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </th:block>
            <!--PASEADOR DE PERROS-->
            <th:block th:if="${petwalker != null}">
                <div class="postCard">
                    <div class="blog-card">
                        <div class="photo">
                            <img th:src="${petwalker.user.photo != null && petwalker.user.photo !=''} ? ${petwalker.user.photo} : 'https://t4.ftcdn.net/jpg/02/29/75/83/240_F_229758328_7x8jwCwjtBMmC6rgFzLFhZoEpLobB6L8.jpg'"
                                alt="User photo">
                        </div>
                        <div class="description">
                            <h1>Paseador de perros</h1>
                            <div class="mail-contact">
                                <p th:text="${#authentication.getName()}"> </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="bloque-izq">
                            <p class="thyme" th:text="'Precio: $ '+${petwalker.salary}"></p>
                            <p class="thyme" th:text="'Zona: '+ ${petwalker.workingZone}"></p>
                        </div>
                        <div class="bloque-cen">
                            <p class="thyme"
                                th:text="'Desde: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(petwalker.hoursFrom), 'HH:mm')}">
                            </p>
                            <p class="thyme"
                                th:text="'Hasta: '+${#temporals.format(T(java.time.LocalTime).ofSecondOfDay(petwalker.hoursTo), 'HH:mm')}">
                            </p>
                        </div>
                        <div class="bloque-der">
                            <p class="thyme" th:text="'Cantidad de mascotas: ' + ${petwalker.petQuantity}">
                            </p>
                            <p class="line-days">Días: </p>
                            <th:block th:each="day : ${petwalker.days}">
                                <label th:text="${day} + ' '"></label>
                            </th:block>
                        </div>
                    </div>
                    <div class="botones">
                        <div class="btn-edit">
                            <button><a th:href="@{/petwalker/create}+'?id='+${petwalker.id}">Modificar</a></button>
                        </div>
                        <br>
                        <div class="btn-delete">
                            <form th:action="'/jobs/delete/' + ${petwalker.id}" method="post">
                                <button type="submit">Eliminar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </main>
</body>

</html>